{"version":3,"sources":["database/src/database/core/stats/StatsCollection.ts","database/core/stats/StatsCollection.js"],"names":["StatsCollection","counters_","prototype","incrementCounter","name","amount","get"],"mappings":";;;;;;;AAgBA;;AACA;;AAEA;;;;;AAnBA;;;;;;;;;;;;;;;AAwBA,IAAAA,kBAAA,YAAA;AAAA,aAAAA,eAAA,GAAA;AACU,aAAAC,SAAA,GAAqC,EAArC;AAWT;AATCD,oBAAAE,SAAA,CAAAC,gBAAA,GAAA,UAAiBC,IAAjB,EAA+BC,MAA/B,EAAiD;AAAlB,YAAAA,WAAA,KAAA,CAAA,EAAA;AAAAA,qBAAA,CAAA;AAAkB;AAC/C,YAAI,CAAC,mBAAS,KAAKJ,SAAd,EAAyBG,IAAzB,CAAL,EAAqC,KAAKH,SAAL,CAAeG,IAAf,IAAuB,CAAvB;AAErC,aAAKH,SAAL,CAAeG,IAAf,KAAwBC,MAAxB;AACD,KAJD;AAMAL,oBAAAE,SAAA,CAAAI,GAAA,GAAA,YAAA;AACE,eAAO,yBAAS,KAAKL,SAAd,CAAP;AACD,KAFD;AAGF,WAAAD,eAAA;AAZA,CAAA,EAAA;QCaSA,e,GAAAA,e","file":"StatsCollection.js","sourcesContent":["/**\n* Copyright 2017 Google Inc.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n\nimport { deepCopy } from '../../../utils/deep_copy';\nimport { contains } from '../../../utils/obj';\n\n/**\n * Tracks a collection of stats.\n *\n * @constructor\n */\nexport class StatsCollection {\n  private counters_: { [k: string]: number } = {};\n\n  incrementCounter(name: string, amount: number = 1) {\n    if (!contains(this.counters_, name)) this.counters_[name] = 0;\n\n    this.counters_[name] += amount;\n  }\n\n  get() {\n    return deepCopy(this.counters_);\n  }\n}\n","/**\n* Copyright 2017 Google Inc.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\nimport { deepCopy } from '../../../utils/deep_copy';\nimport { contains } from '../../../utils/obj';\n/**\n * Tracks a collection of stats.\n *\n * @constructor\n */\nvar StatsCollection = (function () {\n    function StatsCollection() {\n        this.counters_ = {};\n    }\n    StatsCollection.prototype.incrementCounter = function (name, amount) {\n        if (amount === void 0) { amount = 1; }\n        if (!contains(this.counters_, name))\n            this.counters_[name] = 0;\n        this.counters_[name] += amount;\n    };\n    StatsCollection.prototype.get = function () {\n        return deepCopy(this.counters_);\n    };\n    return StatsCollection;\n}());\nexport { StatsCollection };\n\n\n"]}